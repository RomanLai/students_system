# 目标：构建一个简单的学生信息查询系统

# 功能如下：

## 1.录入新的学生信息

## 2.查找学生信息

## 3.修改学生信息

# 一、框架搭建

## 1.将整个项目的功能拆分，不同功能的代码用函数封装

- 展示系统的主菜单界面
- 录入学生信息
- 查找学生信息
- 修改学生信息

## 2.新建一个文件夹用于存放所有的代码，在这个文件夹下构建两个python文件，一个是控制各个功能的函数调用各种功能的主程序system.py，另一个则是编写各种功能的函数system_tools.py

## 3.各种函数的命名

- 展示主菜单的函数：show_menu
- 录入学生信息的函数：add_student
- 删除学生信息的函数：del_student
- 查找学生信息的函数：find_student
- 修改学生信息的函数：modify_student
- 显示所有学生信息的函数：show_all

# 二、函数的搭建

## 1.主程序的搭建

- 要把实现各种功能的函数都放进一个无限循环中，只有用户输入正确，才能主动跳出循环

- python代码的解析方式是从上往下按顺序解析，所以第一个段要写的代码是展示主菜单的函数show_menu

- 其他函数的书写位置没有要求，按照个人喜好来写就好

- 要和展示主菜单的功能的函数相呼应，用户在输入对应的字符时就调用对应功能函数

  - 函数add_student对应1
  - 函数del_student对应2
  - 函数find_student对应3
  - 函数modify_student对应4
  - 函数show_all对应5
  - 退出系统（跳出无限循环）退出对应6

- 只有当用户输入对应的字符才能实现对应的功能，如果输入其他的字符，则弹出提示语句要求用户重新输入

- 以下是构建的主程序：

  <img src="D:\后端练习\Python\python练习\黑马\06_学生信息管理系统\image\pass.jpg" style="zoom: 80%;" /> 

- 编写这段代码的时候考虑到用户输入时候就是在键盘中直接按下对应的数字键，站在计算机的角度来看，这些就是字符，而不是数字，所以在编写的时候所有的数字要用双引号包裹，确保是字符，而不是数字

- 实际在构建主函数的时候，如果一时之间还没有编写好各个功能函数（甚至是名字都还没有想好），可以在对应的位置先写一个pass，保证框架的搭建不会出现报错

## 2.各个功能函数的搭建

### 2.1展示主菜单的函数：show_all

- 都是print函数

  <img src="D:\后端练习\Python\python练习\黑马\06_学生信息管理系统\image\展示函数.jpg" style="zoom:80%;" /> 

- print函数的ljust，rjust，center方法都是调整输入的信息中的位置，后面的具体参数需要自己不断尝试才能达到最佳效果，以下是运行的结果截图：

  <img src="D:\后端练习\Python\python练习\黑马\06_学生信息管理系统\image\展示函数输出截图.jpg" style="zoom:80%;" /> 

### 2.2录入学生信息的函数：add_student

- 首先要考虑的是选择哪种python中的哪一种数据类型存储录入的学生信息，一个学生有多种信息，如学号，性别，班级等等，所以我们可以选择字典来存储
- python中字典规定值不能重复，学生有可能会有重名的情况，所以单单靠字典不能满足我们的要求，所以用列表嵌套字典的结构
- 定义一个全局变量gl_students_list，数据类型是列表，列表里的元素是字典，每一个字典都存储一个学生的信息
  - 为什么要定义全局变量，因为后面的其他功能函数也会用到，方便引用
  - python变量的命名要做到见名知义，所以加上gl，global的前两个字母，方便区分局部变量

<img src="D:\后端练习\Python\python练习\黑马\06_学生信息管理系统\image\添加函数.jpg" style="zoom:80%;" /> 

- 为了输出页面好看，上面截图中的倒数两个print中加上了水平制表符\t，就是为了输出学生的信息时可以对齐

### 2.3删除学生信息的函数：del_student

- 考虑到学生会出现重名的情况，我们增加了一个target_index_list列表，用于存储所有姓名与需要删除的姓名相同的学生的下标。如果target_index_list长度为0，则输出"抱歉，没有找到%s的信息！"提示信息。如果长度大于1，说明存在多个同名学生，此时需要输入需要删除的学生的学号进行区分，进而使用pop方法删除指定学生的信息，并输出"已经成功删除了%s的信息！"提示信息。如果长度为1，则直接删除该学生的信息，并输出相应提示信息。这样可以避免用户误删学生信息，提高程序的健壮性。

  <img src="D:\后端练习\Python\python练习\黑马\06_学生信息管理系统\image\删除函数.jpg" style="zoom:80%;" /> 

### 2.4查找学生信息的函数：find_student

- 和删除学生信息类似，查找学生信息的时候也要考虑到学生会出现重名的情况，如果存在多个同名学生，直接打印出全部结果并不是一个好的选择。这样可能会让用户感到困惑甚至误操作。因此，我们需要考虑如何在保证简单易用的情况下，解决重名的问题。所以新建一个find_index_list列表用于存储所有姓名相同的学生的下标。
- 如果find_index_list长度为0，则输出"抱歉，没有找到%s的信息！"提示信息。
- 如果长度大于1，说明存在多个同名学生，此时需要输入需要查找的学生的学号进行区分
- 如果长度为1，说明没有出现学生重名的情况，直接打印该学生的信息，并输出相应提示信息。

<img src="D:\后端练习\Python\python练习\黑马\06_学生信息管理系统\image\查找函数.jpg" style="zoom:80%;" /> 

- 额外增加了一个变量find_flag，其实就是为了控制后面紧跟着的print函数"抱歉，没有找到%s的信息！" % find_name_str“的输出，这条语句是没有找到学生的信息的时候的提示语句，输出一次就行了

### 2.5修改学生信息的函数：modify_student

- 修改学生信息的函数，查找学生信息的函数以及删除学生信息的函数十分相似，同样还是要考虑到学生重名的情况，所以构建一个类似的空列表modify_student_info_list用于存储所有重名的学生的信息

- 联系实际情况考虑，就是需要用户修改学生的信息的时候，肯定有可能是只希望修改其中的一项或多项信息，而不是全部的信息，而没有修改的信息就保持不变，所以python内置的input函数并不能满足我们的要求

  - 为了达到我们的需求我们额外创建了一个新的函数info_input，该函数的作用就是只要用户在修改学生的某一条信息的时候，只要没有输入任何内容，就保持不变
  - <img src="D:\后端练习\Python\python练习\黑马\06_学生信息管理系统\image\输入信息函数.jpg" style="zoom:80%;" /> 

- 综合上面的描述，最终我们得到了修改学生信息的函数

  <img src="D:\后端练习\Python\python练习\黑马\06_学生信息管理系统\image\修改函数1.jpg" style="zoom:80%;" /> 

  <img src="D:\后端练习\Python\python练习\黑马\06_学生信息管理系统\image\修改函数2.jpg" style="zoom:80%;" /> 

### 2.6显示所有学生信息的函数：show_all

- 这个函数简单，就是遍历一开始全局变量gl_students_list，依次打印出所有学生的信息即可，没有的话就提示用户先去添加学生信息

  ![](D:\后端练习\Python\python练习\黑马\06_学生信息管理系统\image\显示所有学生信息的函数.jpg) 

### 2.7重复实现各个功能函数的函数：continue_action

- 联系生活实际，就拿增加学生信息的功能来说，当用户添加完一个学生的信息后，还想继续希望增加别的学生信息，再次使用录入学生信息的功能，而不是先返回主菜单，再选择录入学生信息的功能

- 同样的情况同样适用于菜单的其他功能，所以我们很有必要在构建一个函数，使得各个功能函数可以重复调用

  ![](D:\后端练习\Python\python练习\黑马\06_学生信息管理系统\image\重复调用功能的函数.jpg) 

### 2.8记录学生信息的函数：read_student_info和write_student_info

- 这是最后的收尾工作了，录入学生信息后要存储，不然你每次重启，之前录好的学生信息都会丢失

  ![](D:\后端练习\Python\python练习\黑马\06_学生信息管理系统\image\存储学生信息的函数.jpg) 

# 三、整合各个功能函数

- 没什么好说的，无非就是在对应的位置放入已经写好的功能函数

  <img src="D:\后端练习\Python\python练习\黑马\06_学生信息管理系统\image\整合后的主程序截图.jpg" style="zoom:80%;" /> 

感谢你花时间观看到这里，如有不同意见，欢迎在评论区留下你的信息或私聊我，谢谢





